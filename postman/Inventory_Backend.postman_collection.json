{
	"info": {
		"_postman_id": "inventory-backend-collection",
		"name": "Inventory Backend API",
		"description": "Complete API collection for Warehouse + Delivery Agent Sales System with detailed field descriptions",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"description": "Authentication endpoints for user login and session management",
			"item": [
				{
					"name": "Login (General)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"auth_token\", jsonData.token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"    pm.environment.set(\"user_type\", jsonData.user.type);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "email",
									"value": "admin@inventory.com",
									"type": "text",
									"description": "User email address (required, must be valid email format)"
								},
								{
									"key": "password",
									"value": "password",
									"type": "text",
									"description": "User password (required, plain text, will be validated)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "General login endpoint for both admin and driver users. Returns authentication token and user information."
					},
					"response": []
				},
				{
					"name": "Driver Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"auth_token\", jsonData.token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"    pm.environment.set(\"user_type\", jsonData.user.type);",
									"    pm.environment.set(\"driver_id\", jsonData.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "email",
									"value": "{{driver_email}}",
									"type": "text",
									"description": "Driver email address (required, must be valid email format, user must be of type 'driver')"
								},
								{
									"key": "password",
									"value": "{{driver_password}}",
									"type": "text",
									"description": "Driver password (required, plain text, will be validated)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/driver/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"driver",
								"login"
							]
						},
						"description": "Driver-specific login endpoint. Validates that the user is of type 'driver' before allowing login. Returns 403 if user is not a driver."
					},
					"response": []
				},
				{
					"name": "Admin Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"auth_token\", jsonData.token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"    pm.environment.set(\"user_type\", jsonData.user.type);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "email",
									"value": "{{admin_email}}",
									"type": "text",
									"description": "Admin email address (required, must be valid email format, user must be of type 'admin')"
								},
								{
									"key": "password",
									"value": "{{admin_password}}",
									"type": "text",
									"description": "Admin password (required, plain text, will be validated)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/admin/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"login"
							]
						},
						"description": "Admin-specific login endpoint. Validates that the user is of type 'admin' before allowing login. Returns 403 if user is not an admin."
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, obtained from login endpoints)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"logout"
							]
						},
						"description": "Logout endpoint. Invalidates the current access token. Requires authentication."
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, obtained from login endpoints)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"me"
							]
						},
						"description": "Get current authenticated user information. Returns user object with id, name, email, type, and timestamps. Requires authentication."
					},
					"response": []
				}
			]
		},
		{
			"name": "Categories",
			"description": "Category management endpoints (Admin only). Categories group products together for better organization.",
			"item": [
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories"
							]
						},
						"description": "Get all categories with their associated products. Returns categories with product_count, total_value, and nested products array. Admin only."
					},
					"response": []
				},
				{
					"name": "Create Category",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "أكياس التسوق",
									"type": "text",
									"description": "Category name (required, string, max 255 characters)"
								},
								{
									"key": "description",
									"value": "أكياس التسوق البلاستيكية بأنواعها المختلفة",
									"type": "text",
									"description": "Category description (optional, string, can be null)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories"
							]
						},
						"description": "Create a new category. Returns the created category object with id, name, description, and timestamps. Admin only."
					},
					"response": []
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "أكياس التسوق - محدث",
									"type": "text",
									"description": "Category name (optional if updating, string, max 255 characters)"
								},
								{
									"key": "description",
									"value": "وصف محدث للفئة",
									"type": "text",
									"description": "Category description (optional, string, can be null)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/categories/{{category_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories",
								"{{category_id}}"
							]
						},
						"description": "Update an existing category. All fields are optional (partial update). Returns the updated category object. Admin only. Returns 404 if category not found."
					},
					"response": []
				},
				{
					"name": "Delete Category",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/{{category_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories",
								"{{category_id}}"
							],
							"variable": [
								{
									"key": "category_id",
									"value": "1",
									"description": "Category ID (required, integer, must exist in database)"
								}
							]
						},
						"description": "Delete a category by ID. Returns success message. Admin only. Returns 404 if category not found."
					},
					"response": []
				}
			]
		},
		{
			"name": "Products",
			"description": "Product management endpoints (Admin only). Products are items that can be sold and tracked in inventory.",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products"
							]
						},
						"description": "Get all products with their categories, warehouse stock, driver stock totals, and total sold quantities. Returns comprehensive product information. Admin only."
					},
					"response": []
				},
				{
					"name": "Create Product",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "كيس تسوق كبير",
									"type": "text",
									"description": "Product name (required, string, max 255 characters)"
								},
								{
									"key": "price",
									"value": "2.50",
									"type": "text",
									"description": "Product price (required, numeric, minimum 0, decimal with 2 decimal places)"
								},
								{
									"key": "category_id",
									"value": "1",
									"type": "text",
									"description": "Category ID (required, integer, must exist in categories table)"
								},
								{
									"key": "description",
									"value": "كيس تسوق بلاستيكي كبير الحجم، مناسب للاستخدام المتكرر",
									"type": "text",
									"description": "Product description (optional, string, can be null)"
								},
								{
									"key": "image",
									"value": "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",
									"type": "text",
									"description": "Product image URL (optional, string, can be null, should be a valid URL)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products"
							]
						},
						"description": "Create a new product. Automatically creates an initial warehouse stock entry with quantity 0. Returns the created product with category and warehouse stock relations. Admin only."
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "كيس تسوق كبير - محدث",
									"type": "text",
									"description": "Product name (optional if updating, string, max 255 characters)"
								},
								{
									"key": "price",
									"value": "3.00",
									"type": "text",
									"description": "Product price (optional if updating, numeric, minimum 0, decimal with 2 decimal places)"
								},
								{
									"key": "category_id",
									"value": "1",
									"type": "text",
									"description": "Category ID (optional if updating, integer, must exist in categories table)"
								},
								{
									"key": "description",
									"value": "كيس تسوق محدث بجودة أعلى",
									"type": "text",
									"description": "Product description (optional, string, can be null)"
								},
								{
									"key": "image",
									"value": "https://example.com/new-image.jpg",
									"type": "text",
									"description": "Product image URL (optional, string, can be null, should be a valid URL)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/products/{{product_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								"{{product_id}}"
							],
							"variable": [
								{
									"key": "product_id",
									"value": "1",
									"description": "Product ID (required, integer, must exist in database)"
								}
							]
						},
						"description": "Update an existing product. All fields are optional (partial update). Returns the updated product with category and warehouse stock relations. Admin only. Returns 404 if product not found."
					},
					"response": []
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/{{product_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								"{{product_id}}"
							],
							"variable": [
								{
									"key": "product_id",
									"value": "1",
									"description": "Product ID (required, integer, must exist in database)"
								}
							]
						},
						"description": "Delete a product by ID. Returns success message. Admin only. Returns 404 if product not found."
					},
					"response": []
				}
			]
		},
		{
			"name": "Warehouse Stock",
			"description": "Warehouse stock management endpoints (Admin only). Tracks inventory quantities available in the main warehouse.",
			"item": [
				{
					"name": "Get All Warehouse Stock",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/warehouse-stock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"warehouse-stock"
							]
						},
						"description": "Get all warehouse stock entries with product and category information. Returns array of stock objects with product_id, quantity, and nested product/category data. Admin only."
					},
					"response": []
				},
				{
					"name": "Update Warehouse Stock",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "product_id",
									"value": "1",
									"type": "text",
									"description": "Product ID (required, integer, must exist in products table)"
								},
								{
									"key": "quantity",
									"value": "500",
									"type": "text",
									"description": "Stock quantity (required, integer, minimum 0, sets the warehouse stock for this product)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/warehouse-stock/update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"warehouse-stock",
								"update"
							]
						},
						"description": "Update or create warehouse stock for a product. Uses updateOrCreate, so it will create if it doesn't exist or update if it does. Returns the stock object with product relation. Admin only."
					},
					"response": []
				}
			]
		},
		{
			"name": "Driver Stock",
			"description": "Driver stock management endpoints. Track inventory assigned to drivers for sales.",
			"item": [
				{
					"name": "Get Driver Stock",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/drivers/{{driver_id}}/stock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"drivers",
								"{{driver_id}}",
								"stock"
							],
							"variable": [
								{
									"key": "driver_id",
									"value": "2",
									"description": "Driver ID (required, integer, must exist and be of type 'driver')"
								}
							]
						},
						"description": "Get stock for a specific driver. Returns array of driver stock entries with product and category information. Returns 400 if user is not a driver. Admin only."
					},
					"response": []
				},
				{
					"name": "Assign Stock to Driver",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "driver_id",
									"value": "2",
									"type": "text",
									"description": "Driver ID (required, integer, must exist and be of type 'driver')"
								},
								{
									"key": "product_id",
									"value": "1",
									"type": "text",
									"description": "Product ID (required, integer, must exist in products table)"
								},
								{
									"key": "quantity",
									"value": "50",
									"type": "text",
									"description": "Quantity to assign (required, integer, minimum 1, must be available in warehouse stock)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/assign-stock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"assign-stock"
							]
						},
						"description": "Assign stock from warehouse to a driver. Decreases warehouse stock and increases driver stock. Returns 400 if insufficient warehouse stock or if user is not a driver. Returns the updated driver stock with product and driver relations. Admin only."
					},
					"response": []
				},
				{
					"name": "Get My Stock (Driver)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be driver)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/driver/my-stock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"driver",
								"my-stock"
							]
						},
						"description": "Get the authenticated driver's own stock. Returns array of driver stock entries with product and category information. Driver only."
					},
					"response": []
				}
			]
		},
		{
			"name": "Sales",
			"description": "Sales management endpoints. Drivers can create sales, both drivers and admins can view sales.",
			"item": [
				{
					"name": "Create Sale",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be driver)"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text",
								"description": "Content type for JSON body"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_name\": \"عبدالرحمن أحمد\",\n    \"items\": [\n        {\n            \"product_id\": 1,\n            \"quantity\": 10\n        },\n        {\n            \"product_id\": 2,\n            \"quantity\": 5\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/sales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"sales"
							]
						},
						"description": "Create a new sale. Validates driver stock availability, calculates total amount, creates invoice number, and decreases driver stock. Returns sale details with items. Driver only. Returns 400 if insufficient stock.\n\nRequest Body Fields:\n- customer_name (required, string, max 255): Name of the customer\n- items (required, array, min 1): Array of sale items\n  - product_id (required, integer): Product ID that must exist\n  - quantity (required, integer, min 1): Quantity to sell"
					},
					"response": []
				},
				{
					"name": "Get My Sales (Driver)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be driver)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/sales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"sales"
							]
						},
						"description": "Get all sales created by the authenticated driver. Returns array of sales with items and product information, ordered by creation date (newest first). Driver only."
					},
					"response": []
				},
				{
					"name": "Get Sale Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, admin or driver who made the sale)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/sales/{{sale_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"sales",
								"{{sale_id}}"
							],
							"variable": [
								{
									"key": "sale_id",
									"value": "1",
									"description": "Sale ID (required, integer, must exist in database)"
								}
							]
						},
						"description": "Get detailed information about a specific sale. Returns sale with items, product information, and driver name. Available to both admin and the driver who created the sale. Returns 404 if sale not found."
					},
					"response": []
				},
				{
					"name": "Get Sale Invoice PDF",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, admin or driver who made the sale)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/sales/{{sale_id}}/invoice",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"sales",
								"{{sale_id}}",
								"invoice"
							],
							"variable": [
								{
									"key": "sale_id",
									"value": "1",
									"description": "Sale ID (required, integer, must exist in database)"
								}
							]
						},
						"description": "Generate and return a PDF invoice for a specific sale. Returns PDF file with invoice details. Available to both admin and the driver who created the sale. Returns 403 if unauthorized, 404 if sale not found. Response Content-Type: application/pdf."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin - Drivers",
			"description": "Driver management endpoints (Admin only). Create, view, update, and delete drivers.",
			"item": [
				{
					"name": "Get All Drivers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/drivers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"drivers"
							]
						},
						"description": "Get all drivers with their statistics (total_sales, total_revenue, total_stock_items). Returns array of driver objects. Admin only."
					},
					"response": []
				},
				{
					"name": "Create Driver",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "سائق جديد",
									"type": "text",
									"description": "Driver name (required, string, max 255 characters)"
								},
								{
									"key": "email",
									"value": "driver@example.com",
									"type": "text",
									"description": "Driver email (required, valid email format, must be unique)"
								},
								{
									"key": "password",
									"value": "password123",
									"type": "text",
									"description": "Driver password (required, string, minimum 6 characters, will be hashed)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/admin/drivers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"drivers"
							]
						},
						"description": "Create a new driver account. Automatically sets user type to 'driver'. Returns created driver object (without password). Admin only. Returns 422 if email already exists."
					},
					"response": []
				},
				{
					"name": "Get Driver Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/drivers/{{driver_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"drivers",
								"{{driver_id}}"
							],
							"variable": [
								{
									"key": "driver_id",
									"value": "2",
									"description": "Driver ID (required, integer, must exist and be of type 'driver')"
								}
							]
						},
						"description": "Get detailed information about a specific driver including statistics (total_sales, total_revenue, total_stock_items). Returns driver object with stats. Admin only. Returns 404 if driver not found."
					},
					"response": []
				},
				{
					"name": "Update Driver",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "name",
									"value": "سائق محدث",
									"type": "text",
									"description": "Driver name (optional if updating, string, max 255 characters)"
								},
								{
									"key": "email",
									"value": "updated@example.com",
									"type": "text",
									"description": "Driver email (optional if updating, valid email format, must be unique if provided)"
								},
								{
									"key": "password",
									"value": "newpassword123",
									"type": "text",
									"description": "Driver password (optional if updating, string, minimum 6 characters, will be hashed)"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/admin/drivers/{{driver_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"drivers",
								"{{driver_id}}"
							],
							"variable": [
								{
									"key": "driver_id",
									"value": "2",
									"description": "Driver ID (required, integer, must exist and be of type 'driver')"
								}
							]
						},
						"description": "Update an existing driver. All fields are optional (partial update). Password will be hashed if provided. Returns updated driver object (without password). Admin only. Returns 404 if driver not found, 422 if email conflict."
					},
					"response": []
				},
				{
					"name": "Delete Driver",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/drivers/{{driver_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"drivers",
								"{{driver_id}}"
							],
							"variable": [
								{
									"key": "driver_id",
									"value": "2",
									"description": "Driver ID (required, integer, must exist and be of type 'driver')"
								}
							]
						},
						"description": "Delete a driver by ID. Returns success message. Admin only. Returns 404 if driver not found."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin - Sales",
			"description": "Admin sales management endpoints. View all sales across all drivers.",
			"item": [
				{
					"name": "Get All Sales",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/sales",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"sales"
							]
						},
						"description": "Get all sales across all drivers. Returns array of sales with driver information and items with product details, ordered by creation date (newest first). Admin only."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin Stats",
			"description": "Admin dashboard statistics endpoints. Provides comprehensive analytics and metrics.",
			"item": [
				{
					"name": "Get Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"description": "Accept JSON response format"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text",
								"description": "Bearer token for authentication (required, must be admin)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"stats"
							]
						},
						"description": "Get comprehensive dashboard statistics. Returns:\n- total_products: Total number of products\n- total_drivers: Total number of drivers\n- total_sales: Total number of sales\n- total_revenue: Sum of all sales amounts\n- today_sales: Number of sales today\n- today_revenue: Revenue from today's sales\n- low_stock_products: Products with warehouse quantity < 10 (array with product_id, product_name, quantity)\n- sales_by_day: Sales statistics for last 7 days (date, count, revenue)\n- top_drivers: Top 5 drivers by sales count (id, name, total_sales, total_revenue)\n\nAdmin only."
					},
					"response": []
				}
			]
		},
		{
			"name": "Health Check",
			"description": "System health and status endpoints.",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"health"
							]
						},
						"description": "Check API health status. Returns status, message, and current timestamp. No authentication required. Useful for monitoring and load balancer health checks.\n\nResponse Fields:\n- status: 'ok' if API is running\n- message: Status message\n- timestamp: Current server time in ISO8601 format"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the API server"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "Authentication token obtained from login endpoints"
		},
		{
			"key": "product_id",
			"value": "1",
			"type": "string",
			"description": "Product ID for testing (integer as string)"
		},
		{
			"key": "driver_id",
			"value": "2",
			"type": "string",
			"description": "Driver ID for testing (integer as string)"
		},
		{
			"key": "sale_id",
			"value": "1",
			"type": "string",
			"description": "Sale ID for testing (integer as string)"
		},
		{
			"key": "category_id",
			"value": "1",
			"type": "string",
			"description": "Category ID for testing (integer as string)"
		}
	]
}
